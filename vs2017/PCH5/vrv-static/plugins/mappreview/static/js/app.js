(function(e){function t(t){for(var n,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,i=1;i<o.length;i++){var l=o[i];0!==r[l]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=o[0]))}return e}var n={},r={app:0},a=[];function s(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=n,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var n=o("ecfe"),r=o.n(n);r.a},"4ba2":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("vAmap",{attrs:{lngitude:e.longitude,latitude:e.latitude,showSearchBox:e.showSearchBox,showOverImg:e.showOverImg},on:{pointResult:e.pointResult}})],1)},a=[],s=(o("d3b7"),o("ac1f"),o("3ca3"),o("841c"),o("ddb0"),o("2b3d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gaodemap"},[e.showSearchBox?n("div",{staticClass:"map-search"},[n("el-amap-search-box",{staticClass:"search-box",attrs:{"search-option":e.searchOption,"on-search-result":e.onSearchResult}}),n("img",{staticClass:"img-style",attrs:{src:o("8fd5")}})],1):e._e(),n("div",{staticClass:"amap-page-container"},[e.showOverImg?n("img",{staticClass:"img-over",attrs:{src:o("6225")}}):e._e(),e.mapCenter?n("el-amap",{attrs:{vid:"amapDemo",zoom:e.zoom,center:e.mapCenter,events:e.events,plugin:e.plugin}},[e._l(e.markers,(function(e){return n("el-amap-marker",{key:e.key,attrs:{position:e.position,events:e.events}})})),e.address?n("div",{staticClass:"address-style"},[e._v(e._s(e.address))]):e._e()],2):e._e()],1)])}),i=[],l=(o("99af"),o("4160"),o("fb6a"),o("b0c0"),o("159b"),{data:function(){var e=this,t=this;return{lng:0,lat:0,address:"",loaded:!1,markers:[],mapCenter:[],aroundPositionList:[],poisArray:[],historyList:[],showAroundList:!0,zoom:"",isShowOverImg:!1,events:{click:function(o){var n=o.lnglat.getLng(),r=o.lnglat.getLat();e.$emit("lnglatHandler",n,r);var a=[],s={lng:n,lat:r},i=[n,r];console.log(i),a.push(s),e.getlnglat(a);var l=new AMap.Geocoder({radius:1e3,extensions:"all"});l.getAddress(i,(function(e,o){"complete"===e&&"OK"===o.info&&o&&o.regeocode&&(t.address=o.regeocode.formattedAddress,t.poisArray=o.regeocode.pois[0],console.log("result",o.regeocode.pois[0]),t.$nextTick())}))}},plugin:[],searchOption:{city:"全国",citylimit:!1},circle:{center:[108.877371,34.192933],radius:400,fillOpacity:.5,fillColor:"#B2D3F2",strokeStyle:"solid",strokeOpacity:.6,strokeWeight:1,strokeColor:"#7EB9F0"}}},props:["lngitude","latitude","showSearchBox","showGeolocation","showOverImg"],created:function(){this.zoom=14;var e=[],t={lng:this.lngitude,lat:this.latitude};e.push(t),this.getlnglat(e)},mounted:function(){},methods:{addmarker:function(e,t,o){var n={position:[e,t+.001*o],events:{click:function(e){}}};return n},addWindow:function(e,t,o){var n={position:[e,t+.001*o],content:'<div class="prompt">['.concat(e,",").concat(t,"]</div>"),visible:!1};return n},getlnglat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.markers=[];var n=this;if(e.length>0){e.forEach((function(e,r){var a=e.lng,s=e.lat;o+=a,t+=s,n.markers.push(n.addmarker(a,s,r))}));var r={lng:o/e.length,lat:t/e.length};this.mapCenter=[r.lng,r.lat]}},onSearchResult:function(e){this.poisArray=e[0],this.isShowOverImg=!1,console.log("pois",e);var t=e.slice(0,5);this.$emit("pointResult",t),console.log("res",t),this.getlnglat(t)},showMakrs:function(e,t){var o=this;console.log("click",e,t);var n=t;n===t?console.log(123):console.log(456),n=t,this.markers.push(this.addmarker(e.point[0],e.point[1],t-1));var r=new AMap.Geocoder({radius:1e3,extensions:"all"});r.getAddress(e.point,(function(e,t){"complete"===e&&"OK"===t.info&&t&&t.regeocode&&(o.address=t.regeocode.formattedAddress,o.$nextTick())}))},confirmClick:function(){console.log(this.poisArray);var e={latitude:this.poisArray.location.lat,longitude:this.poisArray.location.lng,name:"".concat(this.poisArray.address).concat(this.poisArray.name)};this.$emit("map-message",e)}}}),c=l,u=(o("7685"),o("0c7c")),d=Object(u["a"])(c,s,i,!1,null,null,null),p=d.exports,h=window.require("electron").ipcRenderer,g={name:"app",data:function(){return{longitude:"116.397128",latitude:"39.916527",showSearchBox:!0,showOverImg:!0}},components:{vAmap:p},created:function(){var e=new URLSearchParams(document.location.search);console.log("searchParams",e),console.log("document.location.search:::",document.location),document.location.search&&((this.longitude||this.latitude)&&(this.longitude=e.get("longitude"),this.latitude=e.get("latitude")),this.showSearchBox="true"===e.get("isSearch"),1==this.showSearchBox?this.showOverImg=!0:this.showOverImg=!1,console.log(this.longitude,this.latitude,this.showSearchBox))},methods:{pointResult:function(e){e&&0!==e.length&&(console.log("接收到结果",e),h.send("send-map-message",e[0]))}}},f=g,m=(o("034f"),Object(u["a"])(f,r,a,!1,null,null,null)),v=m.exports,y=o("8f9b"),w=o.n(y);n["default"].config.productionTip=!1,n["default"].use(w.a),w.a.initAMapApiLoader({key:"82af10f68406a3b4e43bab85b9f07042",plugin:["AMap.PlaceSearch","AMap.Scale","AMap.OverView","AMap.MapType","AMap.PolyEditor","AMap.CircleEditor","AMap.Geolocation","AMap.Geocoder","AMap.CitySearch"],v:"1.4.4"}),new n["default"]({render:function(e){return e(v)}}).$mount("#app")},6225:function(e,t,o){e.exports=o.p+"static/img/mapAddress.jpg"},7685:function(e,t,o){"use strict";var n=o("4ba2"),r=o.n(n);r.a},"8fd5":function(e,t,o){e.exports=o.p+"static/img/logo.png"},ecfe:function(e,t,o){}});
//# sourceMappingURL=app.js.map