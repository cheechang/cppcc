(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78dbc3a4"],{"5ae8":function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contacts"},t._l(t.contactsList.slice(0,t.initLength),(function(e,c){return n("div",{key:c,staticClass:"contacts-item"},[n("d-avatar",{staticClass:"avatar",attrs:{size:"30",src:e.thumbAvatar}}),n("span",{staticClass:"contacts-name"},[t._v(t._s(e.name))]),n("d-checkbox",{staticClass:"checkbox-right",attrs:{size:"medium",value:t.isSelected(e.id)},on:{input:function(n){return t.selectContact(e)}}})],1)})),0)},s=[],i=(n("8e6e"),n("6762"),n("2fdb"),n("ac6a"),n("456d"),n("7f7f"),n("bd86")),o=n("2ef0"),r=n.n(o),a=n("2f62"),l=n("7ff8"),u=n("b339");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,c)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"contact-list",mixins:[l["a"]],props:["searchInfo","returnPageValue"],data:function(){return{initLength:10,selectedMembers:{}}},mounted:function(){var t=this;console.log("this.contactsList",this.contactsInfos),console.log("vuex info for contact",this.members_range),this.$Service.contact.getContactList(null,(function(e){t.$store.commit("SET_CONTACTLIST",e.contacts),t.$Service.log("拉取联系人列表：：：".concat(JSON.stringify(e.contacts)))})),this.$nextTick((function(){var e=document.querySelector(".contacts");e.addEventListener("scroll",(function(n){n.stopPropagation(),t.loadMoreData(e)}))})),this.returnPageValue.hasOwnProperty("contact")&&(this.selectedMembers=Object.assign({},this.returnPageValue.contact),this.$emit("selectMembers",{contact:this.selectedMembers}))},computed:f({},Object(a["b"])(["contact_list","members_range"]),{contactsList:function(){var t=this;return console.log("好友列表:",this.contact_list),""===this.searchInfo.trim()?r.a.orderBy(r.a.filter(this.contact_list,(function(t){return t.id&&2==t.isApp&&2==t.isHidden})),(function(t){return Object(u["a"])(t.pinyin.trim())}),["asc"]):r.a.filter(this.contact_list,(function(e){return e.name.indexOf(t.searchInfo)>=0}))}}),methods:{loadMoreData:function(t){var e=this;this.$nextTick((function(){e.isScrollToBottom(t)&&e.initLength<e.contact_list.length&&(console.log("加载更多数据"),e.contact_list.length-e.initLength<10?(e.initLength=e.contact_list.length,console.log("已展示全部数据")):(e.initLength+=10,console.log("已增加展示数量")))}))},selectContact:function(t){this.selectedMembers.hasOwnProperty(t.id)?this.$delete(this.selectedMembers,t.id):this.$set(this.selectedMembers,t.id,t),console.log("this.selectedMembers:",this.selectedMembers);var e={contact:this.selectedMembers};this.$emit("selectMembers",e)},isSelected:function(t){if(console.log("接受到的人列表",this.returnPageValue.contact),this.returnPageValue.hasOwnProperty("contact")){var e=Object.keys(this.returnPageValue.contact);return console.log("membersKeys",e),e.includes(t)}if(!this.returnPageValue.contact){console.log("this.id",t),console.log(Object.keys(this.selectedMembers));var n=Object.keys(this.selectedMembers);return n.includes(t)}}}},b=d,m=(n("6b8d"),n("2877")),g=Object(m["a"])(b,c,s,!1,null,"2078d86d",null);e["default"]=g.exports},"6b8d":function(t,e,n){"use strict";var c=n("8f1a"),s=n.n(c);s.a},"8f1a":function(t,e,n){}}]);
//# sourceMappingURL=chunk-78dbc3a4.js.map